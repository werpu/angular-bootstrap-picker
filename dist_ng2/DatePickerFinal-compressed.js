!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.DatePicker=t()}}(function(){return function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return o(n||t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},i=Math.pow(2,53)-1,o=function(t){var e=n(t);return Math.min(Math.max(e,0),i)};return function(t){var n=this,i=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!e(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var s,c=o(i.length),l=e(n)?Object(new n(c)):new Array(c),u=0;u<c;)s=i[u],l[u]=a?void 0===r?a(s,u):a.call(r,s,u):s,u+=1;return l.length=c,l}}());var i=function(){function t(){}return t.getParents=function(t,e){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1});for(var n=[];t&&t!==document;t=t.parentNode)e?t.matches&&t.matches(e)&&n.push(t):n.push(t);return n},t.isScrollable=function(t){return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight},t.trigger=function(t,e,n){Array.from(t.querySelectorAll(e)).forEach(n)},t.addEventListener=function(t,e,n){Array.from(t.querySelectorAll(e)).forEach(n)},t.registerKeyBindings=function(e){e.addEventListener("keydown",function(n){return 13==n.keyCode?(n.preventDefault(),t.trigger(t.getParents(e,"form")[0],"input[type=submit]",function(t){return t.click()}),!1):40==n.keyCode?(t.trigger(e,".picker-open",function(t){return t.click()}),!1):27==n.keyCode?(t.trigger(e,".picker-close",function(t){return t.click()}),!1):void 0})},t.registerDocumentBindings=function(e,n){if(!n.documentClickHandler){var i=function(){t.unregisterDocumentBindings(e,n),t.trigger(e,".picker-close",function(t){return t.click()})};document.addEventListener("click",i),n.documentClickHandler=i}},t.unregisterDocumentBindings=function(e,n){n.documentClickHandler&&(document.removeEventListener("click",n.documentClickHandler),n.documentClickHandler=null),t.offScroll(e,n)},t.registerPopupBindings=function(t,e){Array.from(t.querySelectorAll(".picker-popup")).forEach(function(t){t.addEventListener("click",function(t){t.stopImmediatePropagation(),t.stopPropagation()})})},t.openDropDown=function(t,e){e.isOpen=!0,Array.from(t.querySelectorAll(".dropdown")).forEach(function(t){t.classList.add("open")}),this.repositionPopup(e,t),this.onScroll(e,t)},t.repositionPopup=function(t,e){t.appendToBody&&Array.from(e.querySelectorAll(".dropdown-menu")).forEach(function(t){t.classList.add("fixedPos"),setTimeout(function(){try{var n=e.querySelectorAll('input[type="text"]')[0].getBoundingClientRect().bottom,i=e.getBoundingClientRect().left+e.clientWidth-t.clientWidth;n+t.clientHeight+10>window.innerHeight?(n=e.querySelectorAll('input[type="text"]')[0].getBoundingClientRect().top-5-t.clientHeight,t.classList.add("top")):t.classList.remove("top"),t.style.top=n+"px",t.style.left=i+"px",t.style.right="auto"}finally{}},100)})},t.closeDropDown=function(e,n){n.isOpen=!1,Array.from(e.querySelectorAll(".dropdown")).forEach(function(t){t.classList.remove("open")}),n.appendToBody&&Array.from(e.querySelectorAll(".dropdown-menu")).forEach(function(t){t.classList.add("fixedPos")}),t.offScroll(n,e)},t.onScroll=function(e,n){e.appendToBody&&e.onParentScroll&&Array.from(t.getParents(n,"*")).forEach(function(n){t.isScrollable(n)&&n.addEventListener("scroll",e.onParentScroll),window.addEventListener("scroll",e.onParentScroll)})},t.offScroll=function(e,n){e.appendToBody&&e.onParentScroll&&(Array.from(t.getParents(n,"*")).forEach(function(){return function(t){t.removeEventListener("scroll",e.onParentScroll)}}),window.removeEventListener("scroll",e.onParentScroll))},t}();n.BehavioralFixes=i},{}],2:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.Importance={LOW:"LOW",MEDIUM:"MEDIUM",HIGH:"HIGH",NONE:"NONE"};var o=function(){function t(){}return t}();n.EventModelValue=o;var r=function(){function t(){this.data=[]}return t}();n.EventModel=r;var a=function(){function t(t,e){this.invalid=t,this.momentDate=e}return t}();n.BaseDate=a;var s=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n)||this;return a.day=i,a.sameMonth=o,r&&(a.event=r),a}return i(e,t),e}(a);n.PickerDate=s;var c=function(t){function e(e,n,i,o){var r=t.call(this,e,n)||this;return r.month=i,r.sameYear=o,r}return i(e,t),e}(a);n.PickerMonth=c;var l=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.year=i,o}return i(e,t),e}(a);n.PickerYear=l;var u=function(){function t(t,e){void 0===e&&(e=[]),this.calendarWeek=t,this.days=e}return t}();n.PickerWeek=u;var d=function(){function t(t,e,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]),this.dayOfWeek=n,this.weeks=i,this.year=t,this.month=e}return t}();n.DatePickerPage=d;var p=function(){function t(){this.months=[]}return t}();n.EventPickerPage=p;var h=function(){function t(t,e){void 0===e&&(e=[]),this.row=e,this.year=t}return t}();n.MonthPickerPage=h;var f=function(){function t(t){void 0===t&&(t=[]),this.row=t}return t}();n.YearPickerPage=f;var m=function(){function t(t,e){this.hour=t,this.minutes=e}return t}();n.TimeModel=m},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t}();i.DEFAULT_DATE_FORMAT="DD.MM.YYYY",i.DEFAULT_DATE_TIME_FORMAT="DD.MM.YYYY HH:mm",i.DEFAULT_PICKER_MODE="DATE",i.PICKER_VIEW_DATE="DATE",i.PICKER_VIEW_TIME="TIME",i.PICKER_VIEW_MONTH="MONTH",i.PICKER_VIEW_YEAR="YEAR",i.DEFAULT_PICKER_LABEL="Date",n.PickerConstants=i;var o=function(){function t(){}return t.isToday=function(e,n){var i=moment.tz(new Date,t.getTimezone(e));return i.isSame(n,"date")&&i.isSame(n,"month")&&i.isSame(n,"year")},t.isSameDay=function(t,e){return e.isSame(t,"date")&&e.isSame(t,"month")&&e.isSame(t,"year")},t.isCurrentMonth=function(e,n){var i=moment.tz(new Date,t.getTimezone(e));return i.isSame(n,"month")&&i.isSame(n,"year")},t.isSameMonth=function(e,n,i){var o=moment.tz(n,t.getTimezone(e));return o.isSame(i,"month")&&o.isSame(i,"year")},t.isCurrentYear=function(e,n){return moment.tz(new Date,t.getTimezone(e)).isSame(n,"year")},t.isSameYear=function(e,n,i){return moment.tz(n,t.getTimezone(e)).isSame(i,"year")},t.getTimezone=function(t){return t||moment.tz.guess()},t}();n.DateUtils=o},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./DatePickerTypes"),o=function(){function t(){}return t.calculateYearView=function(t,e,n,o){t||(t=new Date);var r=moment.tz(t,o),a=r.get("year")%20-1,s=20-a-1,c=moment.tz(t,o).startOf("year").startOf("month").startOf("day").subtract(a,"year"),l=moment.tz(t,o).endOf("year").endOf("month").endOf("day").add(s,"year"),u=e?moment.tz(e,o).startOf("year").startOf("month").startOf("day"):null,d=n?moment.tz(n,o).endOf("year").endOf("month").endOf("day"):null,p=0,h=new i.YearPickerPage;return moment.range(c,l).by("year",function(t){t=moment.tz(t,o),p%5==0&&h.row.push([]);var e=!1;u&&(e=e||moment.tz(t,o).startOf("day").isBefore(u)&&moment.tz(t,o).endOf("day").isBefore(u)),!e&&d&&(e=e||moment.tz(t,o).startOf("day").isAfter(d)&&moment.tz(t,o).endOf("day").isAfter(d)),h.row[h.row.length-1].push(new i.PickerYear(e,t,parseInt(t.tz(o).format("YYYY")))),p++}),h},t.calculateMonthView=function(t,e,n,o){t||(t=new Date);var r=moment.tz(t,o),a=moment.tz(t,o).startOf("year").startOf("month").startOf("day"),s=moment.tz(t,o).endOf("year").endOf("month").endOf("day"),c=e?moment.tz(e,o).startOf("month").startOf("day"):null,l=n?moment.tz(n,o).endOf("month").endOf("day"):null,u=moment.range(a,s),d=0,p=new i.MonthPickerPage(r.get("year"));return u.by("month",function(t){t=moment.tz(t,o),d%3==0&&p.row.push([]);var e=!1;c&&(e=e||moment.tz(t,o).startOf("day").isBefore(c)&&moment.tz(t,o).endOf("day").isBefore(c)),!e&&l&&(e=e||moment.tz(t,o).startOf("day").isAfter(l)&&moment.tz(t,o).endOf("day").isAfter(l)),p.row[p.row.length-1].push(new i.PickerMonth(e,t,moment.tz(t,o).format("MMMM"),moment.tz(t,o).isSame(r,"year"))),d++}),p},t.calculateDateView=function(t,e,n,o){t||(t=new Date);var r=moment.tz(t,o),a=moment.tz(t,o).startOf("month").startOf("week"),s=moment.tz(t,o).startOf("month").startOf("week").add(41,"days"),c=e||null,l=n||null,u=moment.range(a,s),d=[],p=[],h=0;return u.by("day",function(t){h%7==0&&d.push(new i.PickerWeek(t.tz(o).get("week")));var e=!1;c&&(e=e||t.startOf("day").isBefore(c)&&t.endOf("day").isBefore(c)),!e&&l&&(e=e||t.startOf("day").isAfter(l)&&t.endOf("day").isAfter(l)),d[d.length-1].days.push(new i.PickerDate(e,t,t.tz(o).get("date"),t.tz(o).isSame(r,"month"))),p.length<7&&p.push(t.tz(o).format("ddd")),h++}),new i.DatePickerPage(r.get("year"),"",p,d)},t.calculateEventDateView=function(e,n,o,r){var a=t.buildModelIdx(e,r),s=(moment.tz(n,r).startOf("month").startOf("week"),moment.tz(o,r).startOf("month").startOf("week").add(41,"days"),n||null),c=o||null,l=(moment.tz(r),[]),u=[],d=0,p=new i.EventPickerPage,h=moment.tz(n,r).startOf("month").startOf("week").add(41,"days"),f=moment.tz(n,r).startOf("month").startOf("week"),m=moment.tz(n,r);do{var y=!1;moment.range(f,h).by("day",function(t){t=moment.tz(t,r).startOf("day"),d%7==0&&l.push(new i.PickerWeek(t.tz(r).get("week")));var e=t.isBefore(s,"day")||moment.tz(t,r).isAfter(c,"day")||moment.tz(t,r).endOf("day").isAfter(t.clone().endOf("month")),n=t.format("DD.MM.YYYY"),o=a[n];l[l.length-1].days.push(new i.PickerDate(e,t,t.get("date"),t.isSame(m,"month"),o)),y=y||t.isSame(m,"month")&&!e,u.length<7&&u.push(t.tz(r).format("ddd")),d++});var g=moment.tz(h,r).startOf("month").subtract(1,"day").get("year"),v=moment.tz(h,r).startOf("month").subtract(1,"day").format("MMM");f=moment.tz(h.add("day",1),r).startOf("month").startOf("week"),h=moment.tz(f,r).add(41,"days"),m.add("month",1),y&&p.months.push(new i.DatePickerPage(g,v,u,l));var l=[],u=[]}while(f.isSameOrBefore(c));return p},t.buildModelIdx=function(t,e){if(!t)return{};for(var n={},i=0;i<t.data.length;i++){var o=t.data[i];n[moment.tz(o.day,e).format("DD.MM.YYYY")]=o}return n},t}();n.ViewModelBuilder=o},{"./DatePickerTypes":2}],5:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=t("@angular/core"),r=t("./datePicker/DatePicker"),a=t("./helperComponents/RangeInput"),s=t("@angular/forms"),c=t("@angular/common"),l=t("./datePicker/transcludeDirectives/AdditionalContentDate"),u=t("./datePicker/transcludeDirectives/AdditionalButtonsDate"),d=t("./datePicker/transcludeDirectives/AdditionalContentYear"),p=t("./datePicker/transcludeDirectives/AdditionalContentMonth"),h=t("./datePicker/transcludeDirectives/AdditionalButtonsMonth"),f=t("./datePicker/transcludeDirectives/AdditionalButtonsYear"),m=t("@angular/http"),y=t("./eventPicker/EventPicker"),g=function(){function t(){}return t}();g=i([o.NgModule({id:"picker",imports:[s.FormsModule,s.ReactiveFormsModule,m.HttpModule,c.CommonModule],declarations:[r.DatePicker,y.EventPicker,a.RangeInput,u.AdditionalButtonsDate,h.AdditionalButtonsMonth,f.AdditionalButtonsYear,l.AdditionalContentDate,p.AdditionalContentMonth,d.AdditionalContentYear],exports:[r.DatePicker,y.EventPicker,u.AdditionalButtonsDate,h.AdditionalButtonsMonth,f.AdditionalButtonsYear,l.AdditionalContentDate,p.AdditionalContentMonth,d.AdditionalContentYear]})],g),n.DatePickerModule=g},{"./datePicker/DatePicker":6,"./datePicker/transcludeDirectives/AdditionalButtonsDate":7,"./datePicker/transcludeDirectives/AdditionalButtonsMonth":8,"./datePicker/transcludeDirectives/AdditionalButtonsYear":9,"./datePicker/transcludeDirectives/AdditionalContentDate":10,"./datePicker/transcludeDirectives/AdditionalContentMonth":11,"./datePicker/transcludeDirectives/AdditionalContentYear":12,"./eventPicker/EventPicker":13,"./helperComponents/RangeInput":14,"@angular/common":15,"@angular/core":15,"@angular/forms":15,"@angular/http":15}],6:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var r=t("@angular/core"),a=t("../../typescript/utils/DatePickerTypes"),s=t("../../typescript/utils/BehavioralFixes"),c=t("../../typescript/utils/DateUtils"),l=t("../../typescript/utils/ViewModelBuilder"),u=t("@angular/forms"),d=function(){function t(){}return t}();d.DEFAULT_DATE_FORMAT="DD.MM.YYYY",d.DEFAULT_DATE_TIME_FORMAT="DD.MM.YYYY HH:mm",d.DEFAULT_PICKER_MODE="DATE",d.PICKER_VIEW_DATE="DATE",d.PICKER_VIEW_TIME="TIME",d.PICKER_VIEW_MONTH="MONTH",d.PICKER_VIEW_YEAR="YEAR",d.DEFAULT_PICKER_LABEL="Date";var p=h=function(){function t(t){var e=this;this.elementRef=t,this.onYearSelection=new r.EventEmitter,this.onMonthSelection=new r.EventEmitter,this.onDateSelection=new r.EventEmitter(!1),this.isOpen=!1,this.viewStack=[],this.propagateChange=function(t){},this.getTimezone=function(){return e.timezone||moment.tz.guess()},this.getDateFormat=function(){return e.dateFormat||(e.pickerMode===d.DEFAULT_PICKER_MODE?d.DEFAULT_DATE_FORMAT:d.DEFAULT_DATE_TIME_FORMAT)},this.updateModel=function(t){var n=t;n=e.formatDate(t),e.innerSelection=n,e.validate(null)||(e._ngModel=e.currentDate.toDate()),e.propagateChange(e._ngModel),e.updatePickerData()},this.currentDate=null,this.doubleBufferDate=null,this.buttonLabel=void 0===this.buttonLabel||null==this.buttonLabel?d.DEFAULT_PICKER_LABEL:this.buttonLabel,this.pickerMode=void 0===this.pickerMode||null==this.pickerMode?d.DEFAULT_PICKER_MODE:this.pickerMode,this.visibleDays=[],this.view=d.PICKER_VIEW_DATE,this.viewStack=[],this.onParentScroll=function(){s.BehavioralFixes.closeDropDown(e.elementRef.nativeElement,e)}}return t.prototype.yearSelection=function(){this.onYearSelection.emit()},t.prototype.ngOnInit=function(){s.BehavioralFixes.registerPopupBindings(this.elementRef.nativeElement,this),s.BehavioralFixes.registerKeyBindings(this.elementRef.nativeElement),this.pickerOnlyMode&&this.openPicker()},Object.defineProperty(t.prototype,"currentMinute",{get:function(){return this.currentDate?this.currentDate.get("minute"):0},set:function(t){this.isValidMinute(t)&&(this.currentDate.set("minute",t),this.selectDate(new a.PickerDate(!1,this.currentDate,1,!0)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentHour",{get:function(){return this.currentDate?this.currentDate.get("hour"):0},set:function(t){this.isValidHour(t)&&(this.currentDate.set("hour",t),this.selectDate(new a.PickerDate(!1,this.currentDate,1,!0)))},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){var e=this;if(t.startDate&&t.startDate.previousValue!=t.startDate.currentValue){var n=moment.tz(t.startDate.currentValue,this.getTimezone());if(n.isSameOrBefore(this.currentDate))return void this.updatePickerData();this.currentDate=this.endOfDay?n.endOf("day"):n;var i=moment.tz(this._ngModel,this.getTimezone());(this.pickerMode!=d.DEFAULT_PICKER_MODE||this.pickerOnlyMode)&&(i&&i.get("day")==this.currentDate.get("day")&&i.get("month")==this.currentDate.get("month")&&i.get("year")==this.currentDate.get("year")||this.selectDate(new a.PickerDate(!1,this.currentDate,1,!0))),this.currentDate&&this.updatePickerData()}this.pickerOnlyMode&&t.ngModel&&t.ngModel.previousValue!=t.ngModel.currentValue&&setTimeout(function(){e.currentDate=e._ngModel?moment.tz(e._ngModel,e.getTimezone()):moment.tz(new Date,e.getTimezone()),e.updatePickerData()},0)},t.prototype.isSelectedDate=function(t){if(this._ngModel){var e=moment.tz(this._ngModel,this.getTimezone());return e.isSame(t.momentDate,"date")&&e.isSame(t.momentDate,"month")&&e.isSame(t.momentDate,"year")}return!1},t.prototype.isChosenDate=function(t){if(this.doubleBufferDate){var e=this.doubleBufferDate;return e.isSame(t.momentDate,"date")&&e.isSame(t.momentDate,"month")&&e.isSame(t.momentDate,"year")}return!1},t.prototype.isToday=function(t){return c.DateUtils.isToday(this.timezone,t.momentDate)},t.prototype.isTodayMonth=function(t){return c.DateUtils.isCurrentMonth(this.timezone,t.momentDate)},t.prototype.isSameMonth=function(t){return c.DateUtils.isSameMonth(this.timezone,moment.tz(this._ngModel,this.getTimezone()),t.momentDate)},t.prototype.isChosenMonth=function(t){if(!this.doubleBufferDate)return!1;var e=this.doubleBufferDate;return e.isSame(t.momentDate,"month")&&e.isSame(t.momentDate,"year")},t.prototype.isTodayYear=function(t){return c.DateUtils.isCurrentYear(this.timezone,t.momentDate)},t.prototype.isSameYear=function(t){return c.DateUtils.isSameYear(this.timezone,moment.tz(this._ngModel,this.getTimezone()),t.momentDate)},t.prototype.isChosenYear=function(t){return!!this.doubleBufferDate&&this.doubleBufferDate.isSame(t.momentDate,"year")},t.prototype.isValidTime=function(t,e){if(t<0||t>23||e<0||e>59)return!1;var n=moment.tz(this.currentDate.toDate(),this.getTimezone()),i=this.startDate?moment.tz(this.startDate,this.getTimezone()).startOf("day"):null,o=this.endDate?moment.tz(this.endDate,this.getTimezone()).endOf("day"):null;return n.set("hour",t).set("minute",e),!n.isBefore(i)&&!n.isAfter(o)},t.prototype.isValidHour=function(t){if(t<0||t>23)return!1;var e=moment.tz(this.currentDate.toDate(),this.getTimezone()),n=this.startDate?moment.tz(this.startDate,this.getTimezone()):null,i=this.endDate?moment.tz(this.endDate,this.getTimezone()):null;return e.set("hour",t),!e.isBefore(n)&&!e.isAfter(i)},t.prototype.isValidMinute=function(t){if(t<0||t>59)return!1;var e=moment.tz(this.currentDate.toDate(),this.getTimezone()),n=this.startDate?moment.tz(this.startDate,this.getTimezone()):null,i=this.endDate?moment.tz(this.endDate,this.getTimezone()):null;return e.set("minute",t),!e.isBefore(n)&&!e.isAfter(i)},t.prototype.nextHour=function(t){this.isValidHour(this.currentDate.get("hour")+1)&&(this.currentDate.add(1,"hour"),this.selectDate(new a.PickerDate(!1,this.currentDate,1,!0)))},t.prototype.prevHour=function(t){this.isValidHour(this.currentDate.get("hour")-1)&&(this.currentDate.subtract(1,"hour"),this.selectDate(new a.PickerDate(!1,this.currentDate,1,!0)))},t.prototype.nextMinute=function(t){this.isValidMinute(this.currentDate.get("minute")+1)&&(this.currentDate.add(1,"minute"),this.selectDate(new a.PickerDate(!1,this.currentDate,1,!0)))},t.prototype.prevMinute=function(t){this.isValidMinute(this.currentDate.get("minute")-1)&&(this.currentDate.subtract(1,"minute"),this.selectDate(new a.PickerDate(!1,this.currentDate,1,!0)))},t.prototype._fixCurrentDate=function(){var t=this.currentDate,e=this.startDate?moment.tz(this.startDate,this.getTimezone()):null,n=this.endDate?moment.tz(this.endDate,this.getTimezone()):null;e&&moment.tz(t,this.getTimezone()).isBefore(e)&&(this.currentDate=e),n&&moment.tz(t,this.getTimezone()).isAfter(n)&&(this.currentDate=n)},t.prototype.selectDate=function(t,e){this.stopEventPropagation(e),t.invalid||(this._ngModel||(this.currentDate=t.momentDate,"DOUBLE_BUFFERED"==this.pickerOnlyMode&&(this.doubleBufferDate=moment.tz(this.currentDate.toDate(),this.getTimezone()))),this.currentDate!=t.momentDate&&(this.currentDate.set("date",t.momentDate.get("date")),this.currentDate.set("month",t.momentDate.get("month")),this.currentDate.set("year",t.momentDate.get("year"))),this.pickerMode===d.DEFAULT_PICKER_MODE&&(this.endOfDay?this.currentDate.endOf("day"):this.currentDate.startOf("day")),this._fixCurrentDate(),"DOUBLE_BUFFERED"==this.pickerOnlyMode&&(this.doubleBufferDate=moment.tz(this.currentDate.toDate(),this.getTimezone())),(!this.pickerOnlyMode||this.pickerOnlyMode&&"DOUBLE_BUFFERED"!=this.pickerOnlyMode)&&this.updateModel(this.currentDate.toDate()),this.onDateSelection.emit({$picker:this,$date:this.currentDate.toDate()}),this.pickerMode!==d.DEFAULT_PICKER_MODE||this.pickerOnlyMode||this.close(e))},t.prototype.selectMonth=function(t,e){this.stopEventPropagation(e),t.invalid||(this._ngModel?(this.currentDate.set("month",t.momentDate.get("month")),this.currentDate.set("year",t.momentDate.get("year"))):(this.currentDate=moment.tz(new Date,this.getTimezone()),this.currentDate.set("month",t.momentDate.get("month"))),this._fixCurrentDate(),this.onMonthSelection.emit({$picker:this,$date:this.currentDate.toDate()}),this.goBackInView(e))},t.prototype.selectYear=function(t,e){if(this.stopEventPropagation(e),!t.invalid){if(this._ngModel){moment.tz(this._ngModel,this.getTimezone());this.currentDate.set("year",t.momentDate.get("year"))}else this.currentDate=moment.tz(new Date,this.getTimezone()),this.currentDate.set("year",t.momentDate.get("year"));this._fixCurrentDate(),this.onYearSelection.emit({$picker:this,$date:this.currentDate.toDate()}),this.goBackInView(e)}},t.prototype.stopEventPropagation=function(t){t&&(t.stopPropagation(),t.stopImmediatePropagation())},t.prototype.updatePickerData=function(){this.monthPickerData=l.ViewModelBuilder.calculateDateView(this.currentDate.toDate(),this.startDate,this.endDate,this.getTimezone()),this.yearPickerData=l.ViewModelBuilder.calculateMonthView(this.currentDate.toDate(),this.startDate,this.endDate,this.getTimezone()),this.decadePickerData=l.ViewModelBuilder.calculateYearView(this.currentDate.toDate(),this.startDate,this.endDate,this.getTimezone());var t=this.currentDate.get("year")%20-1;this.decadeFrom=moment.tz(this.currentDate.toDate(),this.getTimezone()).subtract(t,"year").format("YYYY");var t=this.currentDate.get("year")%20-1,e=20-t-1;this.decadeTo=moment.tz(this.currentDate.toDate(),this.getTimezone()).add(e,"year").format("YYYY")},t.prototype.openPicker=function(t){var e=this;this.stopEventPropagation(t);var n=this.timezone||moment.tz.guess();this.currentDate=this._ngModel?moment.tz(this._ngModel,n):moment.tz(new Date,n),this.updatePickerData(),s.BehavioralFixes.openDropDown(this.elementRef.nativeElement,this),this.documentClickHandler||setTimeout(function(){s.BehavioralFixes.registerDocumentBindings(e.elementRef.nativeElement,e)},100)},t.prototype.prevMonth=function(t){this.stopEventPropagation(t),this.currentDate=this.currentDate.subtract(1,"month"),this.updatePickerData()},t.prototype.nextMonth=function(t){this.stopEventPropagation(t),this.currentDate=this.currentDate.add(1,"month"),this.updatePickerData()},t.prototype.prevYear=function(t){this.stopEventPropagation(t),this.currentDate=this.currentDate.subtract(1,"year"),this.updatePickerData()},t.prototype.nextYear=function(t){this.stopEventPropagation(t),this.currentDate=this.currentDate.add(1,"year"),this.updatePickerData()},t.prototype.prevDecade=function(t){this.stopEventPropagation(t),this.currentDate=this.currentDate.subtract(20,"year"),this.updatePickerData()},t.prototype.nextDecade=function(t){this.stopEventPropagation(t),this.currentDate=this.currentDate.add(20,"year"),this.updatePickerData()},t.prototype.clear=function(t){this.stopEventPropagation(t),this.innerSelection=""},t.prototype.today=function(t){this.stopEventPropagation(t),this.currentDate=moment.tz(new Date,this.getTimezone()),this.pickerMode==d.DEFAULT_PICKER_MODE&&this.currentDate.startOf("day"),this._fixCurrentDate(),this.updateModel(this.currentDate.toDate()),this.close(t)},t.prototype.close=function(t){this.stopEventPropagation(t),this.view=d.DEFAULT_PICKER_MODE,this.viewStack=[],this.pickerVisible=!1,s.BehavioralFixes.unregisterDocumentBindings(this.elementRef.nativeElement,this),s.BehavioralFixes.closeDropDown(this.elementRef.nativeElement,this),this.elementRef.nativeElement.querySelectorAll("input[type=text]")[0].focus()},t.prototype.set=function(t){this.stopEventPropagation(t),"DOUBLE_BUFFERED"==this.pickerOnlyMode&&(this.currentDate=moment.tz(this.doubleBufferDate.toDate(),this.getTimezone())),this.updateModel(this.currentDate.toDate())},t.prototype.switchToMonthView=function(t){this.stopEventPropagation(t),this.viewStack.unshift(this.view),this.view=d.PICKER_VIEW_MONTH,s.BehavioralFixes.repositionPopup(this,this.elementRef.nativeElement)},t.prototype.switchToYearView=function(t){this.stopEventPropagation(t),this.viewStack.unshift(this.view),this.view=d.PICKER_VIEW_YEAR,s.BehavioralFixes.repositionPopup(this,this.elementRef.nativeElement)},t.prototype.switchToTimeView=function(t){this.stopEventPropagation(t),this.viewStack.unshift(this.view),this.view=d.PICKER_VIEW_TIME,s.BehavioralFixes.repositionPopup(this,this.elementRef.nativeElement)},t.prototype.goBackInView=function(t){this.stopEventPropagation(t),this.updatePickerData(),this.view=this.viewStack.shift(),s.BehavioralFixes.repositionPopup(this,this.elementRef.nativeElement)},t.prototype.validate=function(t){return this.validDate(this.innerSelection)?this.validateDateRange(this.parseDate(this.innerSelection))?void 0:{dateRange:{valid:!1}}:{validDate:{valid:!1}}},t.prototype.ngOnDestroy=function(){s.BehavioralFixes.unregisterDocumentBindings(this.elementRef.nativeElement,this)},t.prototype.validDate=function(t){return!t||moment.tz(t,this.getDateFormat(),this.getTimezone()).isValid()},t.prototype.validateDateRange=function(t){if(null==t)return!0;var e=this.timezone||moment.tz.guess(),n=moment.tz(t,e),i=this.startDate?moment.tz(this.startDate,e).startOf("day"):null,o=this.endDate?moment.tz(this.endDate,e).endOf("day"):null,r=!1;return i&&(r=r||n.isBefore(i)),!r&&o&&(r=r||n.isAfter(o)),!r},t.prototype.parseDate=function(t){if(""==t)return null;var e=this.endOfDay?moment.tz(t,this.getDateFormat(),this.getTimezone()).endOf("day").toDate():moment.tz(t,this.getDateFormat(),this.getTimezone()).toDate(),n=this.startDate?moment.tz(this.startDate,this.getTimezone()):null,i=this.endDate?moment.tz(this.endDate,this.getTimezone()):null;return n&&moment.tz(e,this.getTimezone()).isBefore(n)&&n.isSame(e,"day")&&n.isSame(e,"month")&&n.isSame(e,"year")?this.startDate:i&&moment.tz(e,this.getTimezone()).isAfter(i)&&i.isSame(e,"day")&&i.isSame(e,"month")&&i.isSame(e,"year")?this.endDate:e},t.prototype.formatDate=function(t){if(null==t)return"";var e=this.timezone||moment.tz.guess();return moment.tz(t,e).format(this.getDateFormat())},t.prototype.writeValue=function(t){this._ngModel=t,this.innerSelection=t?this.formatDate(t):""},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.onChange=function(t){try{this.validate(null)||(this._ngModel=this.parseDate(t.target.value)),this.propagateChange(this._ngModel)}catch(t){}},t}();i([r.Input(),o("design:type",String)],p.prototype,"placeholder",void 0),i([r.Input(),o("design:type",String)],p.prototype,"name",void 0),i([r.Input(),o("design:type",Date)],p.prototype,"startDate",void 0),i([r.Input(),o("design:type",Date)],p.prototype,"endDate",void 0),i([r.Input(),o("design:type",String)],p.prototype,"dateFormat",void 0),i([r.Input(),o("design:type",String)],p.prototype,"buttonLabel",void 0),i([r.Input(),o("design:type",Boolean)],p.prototype,"endOfDay",void 0),i([r.Input(),o("design:type",String)],p.prototype,"buttonStyleClass",void 0),i([r.Input(),o("design:type",String)],p.prototype,"pickerOnlyMode",void 0),i([r.Input(),o("design:type",String)],p.prototype,"view",void 0),i([r.Input(),o("design:type",String)],p.prototype,"pickerMode",void 0),i([r.Input(),o("design:type",String)],p.prototype,"timezone",void 0),i([r.Input(),o("design:type",Boolean)],p.prototype,"appendToBody",void 0),i([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onYearSelection",void 0),i([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onMonthSelection",void 0),i([r.Output(),o("design:type",r.EventEmitter)],p.prototype,"onDateSelection",void 0),p=h=i([r.Component({selector:"date-picker",template:function(){var t='\n\n                <div class="input-group">\n                   <input type="text" [placeholder]="placeholder" class="form-control" name="{{name}}_inner" [(ngModel)]="innerSelection" (change)="onChange($event)" (keyup)="onChange($event)">\n                   <span class="input-group-btn">\n                       <button type="button" class="picker-open btn btn-default" (click)="openPicker()">\n                             <span [className]="buttonStyleClass" [ngClass]="{\'glyphicon glyphicon-align-right glyph-icon glyphicon-calendar\': !buttonStyleClass}"> {{buttonLabel}} </span>\n                       </button>\n                   </span> \n               </div>\n               <input type="button" class="picker-close" (click)="close()" value="Close" [hidden]="true"/>\n              \n        ',e='\n           <input type="text" style="display: none;"  class="form-control" name="{{name}}_inner" [(ngModel)]="innerSelection" (change)="onChange($event)" (keyup)="onChange($event)">\n        '
;return"\n \x3c!--\n           <div [ngClass]=\"{'dropdown': !pickerOnlyMode, 'dropdown picker-standalone':pickerOnlyMode}\" > \n             \n               <span *ngIf=\"!pickerOnlyMode\">"+t+'</span>  \n               <span *ngIf="pickerOnlyMode">'+e+'</span>  \n               <div [ngClass]="{\'dropdown-menu picker-popup\':!pickerOnlyMode, \'picker-popup\': pickerOnlyMode}" (click)="$event.stopImmediatePropagation()">\n                    \n                    <div class="content" *ngIf="isOpen || pickerOnlyMode">\n                       \n                      \n                   </div>\n               \n                </div>\n            </div> \n--\x3e            \n      <div class="dropdown" [ngClass]="{\'picker-standalone\':pickerOnlyMode}" (click)="$event.stopImmediatePropagation()"> \n             \n               <span *ngIf="!pickerOnlyMode">'+t+'</span>  \n               <span *ngIf="pickerOnlyMode">'+e+'</span>  \n               <div class="picker-popup" [ngClass]="{\'dropdown-menu\':!pickerOnlyMode}" (click)="$event.stopImmediatePropagation()">\n                    <div class="content" *ngIf="isOpen|| pickerOnlyMode">\n                       \n                       \n               \x3c!-- date view - default view --\x3e\n               <div class="date-picker" *ngIf="view == \'DATE\'">                \n                    <table>\n                        <thead>\n                        \n                            <tr *ngIf="pickerMode == \'DATE_TIME\'">\n                                <td colspan="8" class="invalid picker-title" >{{innerSelection}}</td>\n                            </tr>\n                            \n                            <tr>\n                                <td><a class="prev glyphicon glyphicon-menu-left" (click)="prevMonth($event)"></a></td><td colspan="2" (click)="switchToMonthView($event)">{{currentDate.format("MMMM")}}</td><td><a class="next glyphicon glyphicon-menu-right" (click)="nextMonth($event)"></a></td>\n                                <td><a class="prev glyphicon glyphicon-menu-left" (click)="prevYear($event)"></a></td><td colspan="2" (click)="switchToYearView($event)">{{monthPickerData.year}}</td><td><a class="next glyphicon glyphicon-menu-right" (click)="nextYear($event)"></a></td>\n                            </tr>\n                            <tr>\n                                <td class="calendarWeek">\x3c!-- week of year --\x3e</td>\n                                <td class="dayOfWeek" *ngFor="let dayOfWeek of monthPickerData.dayOfWeek">{{dayOfWeek}}</td>    \n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor="let week of monthPickerData.weeks">\n                                <td class="calendarWeek">{{week.calendarWeek}}</td>\n                                <td class="day" *ngFor="let day of week.days" [ngClass]="{\'outside\': !day.sameMonth, \'invalid\': day.invalid, \'selected\' : isSelectedDate(day), \'chosen\' : isChosenDate(day), \'today\': isToday(day)}" class="{{(day.event) ? day.event.importance : \'\'}}" (click)="selectDate(day, $event)">{{day.day}}</td>\n                            </tr>\n                        </tbody>\n                        \n                    </table>\n                \n                    \n            <div class="time-picker" *ngIf="view == \'DATE\' && pickerMode == \'DATE_TIME\'" >\n                <table>\n                   <thead>\n                        \n                    </thead>\n                    <tbody>\n                        \n                         <tr>\n                            <td class="glyphicon glyphicon-chevron-up" [ngClass]="{\'invalid\' : !isValidHour(currentDate.get(\'hour\') + 1)}" (click)="nextHour($event)">\n                            </td>\n                            <td></td>\n                            <td class="glyphicon glyphicon-chevron-up" [ngClass]="{\'invalid\' : !isValidMinute(currentDate.get(\'minute\') + 1)}" (click)="nextMinute($event)">\n                            </td>\n                        </tr>\n                        <tr>\n                            <td class="selected-hour">\n                                <internal-range-input ngDefaultControl class="hour-input" [from]="0" [to]="23" [(ngModel)]="currentHour"></internal-range-input>    \n                            </td>\n                            <td class="invalid">:</td>\n                            <td class="selected-minute">\n                                <internal-range-input ngDefaultControl  class="minute-input" [from]="0" [to]="59" [(ngModel)]="currentMinute"></internal-range-input> \n                            </td>\n                        </tr>\n                         <tr>\n                            <td class="glyphicon glyphicon-chevron-down" [ngClass]="{\'invalid\' : !isValidHour(currentDate.get(\'hour\') - 1)}" (click)="prevHour($event)">\n                            </td>\n                            <td></td>\n                            <td class="glyphicon glyphicon-chevron-down" [ngClass]="{\'invalid\' : !isValidMinute(currentDate.get(\'minute\') - 1)}" (click)="prevMinute($event)">\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div class="button-group bottom-buttons" *ngIf="view == \'TIME\'">\n                  <input type="button" class="btn btn-default btn-sm" (click)="goBackInView($event)" value="Back" >\n                </div>\n            </div>\n        \n                    \n                    <div class="additional-content">\n                        <ng-content select="additional-content-date"></ng-content>\n                    </div>\n                    \n                    <div class="button-group bottom-buttons col-xs-12 col-sm-12 col-md-12 col-lg-12">\n                      \n                        <ng-content class="additional-buttons" select="additional-buttons-date"></ng-content>\n              \n                        <input type="button" class="set btn btn-default btn-sm" (click)="set($event)" value="Set" *ngIf="pickerOnlyMode == \'DOUBLE_BUFFERED\'" >\n                        <input type="button" class="clear btn btn-default btn-sm" (click)="clear($event)" value="Clear" *ngIf="!pickerOnlyMode" >\n                        <input type="button" class="today btn btn-default btn-sm" (click)="today($event)" value="Today" >\n                        <input type="button" class="picker-close btn btn-default btn-sm" (click)="close($event)" *ngIf="!pickerOnlyMode" value="{{pickerMode == \'DATE\' ? \'Cancel\' : \'Close\'}}" >\n                    </div>\n               </div> \n        \n                       \n                       \n            \x3c!-- month view --\x3e\n            <div class="month-picker" *ngIf="view == \'MONTH\'">\n                 <table>\n                    <thead>\n                          <tr>\n                          <td><a class="prev glyphicon glyphicon-menu-left" (click)="prevYear($event)" class="glyphicon glyphicon-menu-left"></a></td>\n                          <td (click)="switchToYearView()">{{monthPickerData.year}}</td>\n                          <td><a class="next glyphicon glyphicon-menu-right" (click)="nextYear($event)"></a></td>\n                          </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor="let monthRow of yearPickerData.row">\n                            <td *ngFor="let month of monthRow" [ngClass]="{\'invalid\': month.invalid, \'selected\' : isSameMonth(month), \'chosen\' : isChosenMonth(month), \'today\': isTodayMonth(month)}"\n                            (click)="selectMonth( month, $event)"\n                            >{{month.month}}</td>\n                        </tr>\n                    </tbody>\n                 </table>   \n            \n                 <div class="additional-content">\n                    <ng-content select="additional-content-month"></ng-content>\n                 </div>\n                <div class="button-group bottom-buttons">\n                    <div class="additional-buttons">\n                        <ng-content select="additional-buttons-month"></ng-content>\n                    </div>\n                    <input type="button" class="btn btn-default btn-sm" (click)="goBackInView($event)" value="Back" />\n                </div>\n            </div>    \n                           \n                             \n                       \n            \x3c!-- year view --\x3e  \n            <div class="year-picker" *ngIf="view == \'YEAR\'">\n                  <table>\n                    <thead>\n                    <tr>\n                        <td><a (click)="prevDecade($event)" class="glyphicon glyphicon-menu-left"></a></td>\n                        <td colspan="3" class="no-link">{{decadeFrom}} - {{decadeTo}}</td>\n                        <td><a (click)="nextDecade($event)" class="glyphicon glyphicon-menu-right"></a></td>\n                    </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor="let yearrow of decadePickerData.row">\n                            <td *ngFor="let year of yearrow"\n                            [ngClass]="{\'invalid\': year.invalid, \'selected\' : isSameYear(year), \'chosen\' : isChosenYear(year), \'today\': isTodayYear(year)}"\n                             (click)="selectYear(year, $event)"\n                            >{{year.year}}</td>\n                        </tr>\n                    </table>\n                  <div class="additional-content">\n                        <ng-content select="additional-content-year"></ng-content>\n                  </div>  \n                  <div class="button-group bottom-buttons">\n                    <div class="additional-buttons">\n                        <ng-content select="additional-buttons-year"></ng-content>\n                    </div>\n                    <input type="button" class="btn btn-default btn-sm" (click)="goBackInView($event)" value="Back" />\n                  </div>\n            </div>   \n        \n                   </div>\n               \n                </div>\n            </div>            \n        '}(),providers:[{provide:u.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return h}),multi:!0},{provide:u.NG_VALIDATORS,useExisting:r.forwardRef(function(){return h}),multi:!0}]}),o("design:paramtypes",[r.ElementRef])],p),n.DatePicker=p;var h},{"../../typescript/utils/BehavioralFixes":1,"../../typescript/utils/DatePickerTypes":2,"../../typescript/utils/DateUtils":3,"../../typescript/utils/ViewModelBuilder":4,"@angular/core":15,"@angular/forms":15}],7:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=t("@angular/core"),r=function(){function t(){}return t}();r=i([o.Directive({selector:"additional-buttons-date"})],r),n.AdditionalButtonsDate=r},{"@angular/core":15}],8:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=t("@angular/core"),r=function(){function t(){}return t}();r=i([o.Directive({selector:"additional-buttons-month"})],r),n.AdditionalButtonsMonth=r},{"@angular/core":15}],9:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=t("@angular/core"),r=function(){function t(){}return t}();r=i([o.Directive({selector:"additional-buttons-year"})],r),n.AdditionalButtonsYear=r},{"@angular/core":15}],10:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=t("@angular/core"),r=function(){function t(){}return t}();r=i([o.Directive({selector:"additional-content-date"})],r),n.AdditionalContentDate=r},{"@angular/core":15}],11:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=t("@angular/core"),r=function(){function t(){}return t}();r=i([o.Directive({selector:"additional-content-month"})],r),n.AdditionalContentMonth=r},{"@angular/core":15}],12:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=t("@angular/core"),r=function(){function t(){}return t}();r=i([o.Directive({selector:"additional-content-year"})],r),n.AdditionalContentYear=r},{"@angular/core":15}],13:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var r=t("@angular/core"),a=t("@angular/forms"),s=t("../../typescript/utils/DatePickerTypes"),c=t("../../typescript/utils/DateUtils"),l=t("../../typescript/utils/ViewModelBuilder"),u=d=function(){function t(){this.eventSelected=new r.EventEmitter(!1),this.onChangeEmitter=function(){},this.rangeModelIdx={}}return t.prototype.ngOnChanges=function(t){t.startDate&&(t.startDate.currentValue?(this.startDate=t.startDate.currentValue,this.updateRange(this.events)):(this.startDate=moment.tz(c.DateUtils.getTimezone(this.timezone)).startOf("day").toDate(),this.updateRange(this.events))),t.endDate&&(t.endDate.currentValue?(this.endDate=t.endDate.currentValue,this.updateRange(this.events)):(this.endDate=moment.tz(c.DateUtils.getTimezone(this.timezone)).endOf("day").toDate(),this.updateRange(this.events))),t.events&&(this.updateRange(t.events.currentValue),this.rangeModelIdx=l.ViewModelBuilder.buildModelIdx(t.events.currentValue,c.DateUtils.getTimezone(this.timezone)))},t.prototype.ngOnInit=function(){this.updateRange(this.events)},t.prototype.eventPresent=function(t){return this.events?this.rangeModelIdx[t.format("DD.MM.YYYY")]:null},t.prototype.isActive=function(t){var e=moment.tz(this.startDate,this.timezone),n=moment.tz(this.endDate,this.timezone);return t&&t.isBetween(e.subtract(1,"day"),n.add(1,"day"),"day")},t.prototype.isSelectedDate=function(t){return!!this._ngModel&&c.DateUtils.isSameDay(this._ngModel,t.momentDate)},t.prototype.selectDate=function(t){t.event&&(this._ngModel=t.momentDate,this.eventSelected.emit({$event:t.event}),this.updateRange(this.events),this.onChangeEmitter(this._ngModel.toDate()))},t.prototype.isToday=function(t){return c.DateUtils.isToday(this.timezone,t.momentDate)},t.prototype.writeValue=function(t){this._ngModel=t?moment.tz(t,this.timezone).startOf("day"):null},t.prototype.registerOnChange=function(t){this.onChangeEmitter=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.validate=function(t){},t.prototype.registerOnValidatorChange=function(t){},t.prototype.updateRange=function(t){this.pickerPage=l.ViewModelBuilder.calculateEventDateView(t,this.startDate,this.endDate,c.DateUtils.getTimezone(this.timezone))},t}();i([r.Input(),o("design:type",String)],u.prototype,"timezone",void 0),i([r.Input(),o("design:type",Date)],u.prototype,"startDate",void 0),i([r.Input(),o("design:type",Date)],u.prototype,"endDate",void 0),i([r.Input(),o("design:type",s.EventModel)],u.prototype,"events",void 0),i([r.Output(),o("design:type",r.EventEmitter)],u.prototype,"eventSelected",void 0),u=d=i([r.Component({selector:"event-picker",template:'\n            <div class="event-picker">\n                <table *ngFor="let datePickerPage of pickerPage.months">\n                    <thead>\n                    <tr>\n                        <td class="calendarMonth no-link" colspan="8"> {{datePickerPage.month}}\n                            {{datePickerPage.year}}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="calendarWeek">\x3c!-- week of year --\x3e</td>\n                        <td class="dayOfWeek" *ngFor="let dayOfWeek of datePickerPage.dayOfWeek"\n                            (click)="selectDate(dayOfWeek)">{{dayOfWeek}}\n                        </td>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr *ngFor="let week of datePickerPage.weeks">\n                        <td class="calendarWeek">{{week.calendarWeek}}</td>\n                        <td class="day {{ day.event && day.event.importance ? day.event.importance : \'\'}}" *ngFor="let day of week.days"\n                            [ngClass]="{\'outside\': !day.sameMonth, \'invalid\': day.invalid, \'selected\' : isSelectedDate(day), \'today\': isToday(day), \'noevent\': !day.event , \'event\': day.event }"\n                            (click)="selectDate(day)">{{day.day}}\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        ',providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return d}),multi:!0},{provide:a.NG_VALIDATORS,useExisting:r.forwardRef(function(){return d}),multi:!0}]})],u),n.EventPicker=u;var d},{"../../typescript/utils/DatePickerTypes":2,"../../typescript/utils/DateUtils":3,"../../typescript/utils/ViewModelBuilder":4,"@angular/core":15,"@angular/forms":15}],14:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var r=t("@angular/core"),a=t("@angular/forms"),s=c=function(){function t(t){this.elementRef=t}return t.prototype.ngOnChanges=function(t){t.ngModel&&(this.inputText=t.ngModel.currentValue.toString())},t.prototype.ngOnInit=function(){},t.prototype.validate=function(t){var e=parseInt(this.inputText);return isNaN(e)?{validNumber:{valid:!1}}:void 0!==this.from&&this.from>e||void 0!==this.to&&this.to<e?{outOfRange:{valid:!1}}:void 0},t.prototype.changedExtraHandler=function(t){this.validate(null)||(this._ngModel=parseInt(t)),this.onChangeHandler(this._ngModel)},t.prototype.keyDown=function(t){var e=t.keyCode;if(e>57)return t.preventDefault(),!1;if(e>=48&&e<=57){var n=parseInt(t.target.value+String.fromCharCode(e));return!(void 0!==this.from&&this.from>n||void 0!==this.to&&this.to<n)||(t.preventDefault(),!1)}},t.prototype.writeValue=function(t){void 0!==t&&null!=t&&(this._ngModel=t,this.inputText=this._ngModel.toString())},t.prototype.registerOnChange=function(t){this.onChangeHandler=t},t.prototype.registerOnTouched=function(t){},t}();i([r.Input(),o("design:type",Number)],s.prototype,"from",void 0),i([r.Input(),o("design:type",Number)],s.prototype,"to",void 0),s=c=i([r.Component({selector:"internal-range-input",template:'<input type="text" [(ngModel)]="inputText" (ngModelChange)="changedExtraHandler($event)"\n                      (keydown)="keyDown($event)">',providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return c}),multi:!0},{provide:a.NG_VALIDATORS,useExisting:r.forwardRef(function(){return c}),multi:!0}]}),o("design:paramtypes",[r.ElementRef])],s),n.RangeInput=s;var c},{"@angular/core":15,"@angular/forms":15}],15:[function(t,e,n){},{}]},{},[5])(5)});
//# sourceMappingURL=./dist_ng2/DatePickerFinal-compressed.js.map
